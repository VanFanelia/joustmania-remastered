package de.vanfanel.joustmania.sound

import de.vanfanel.joustmania.sound.SoundId.*
import de.vanfanel.joustmania.sound.SupportedSoundLocale.EN
import de.vanfanel.joustmania.sound.SupportedSoundLocale.DE

/**
 * Sounds were generated by elevenlabs.
 * Settings:
 *
 * Voice:  Will
 * Model: Eleven Multilingual v2
 * Speed: 0.91
 * Stability: 31%
 * Similarity: 19%
 * Style Exaggeration: 43%
 * Speaker Boost: yes
 */


enum class SupportedSoundLocale {
    EN, DE
}

data class Sound(
    val id: SoundId,
    val soundFiles: Map<SupportedSoundLocale, SoundFile>
)

data class SoundFile(
    val language: SupportedSoundLocale,
    val file: String,
    val localizedText: String,
) {
    fun getWavSoundPath(): String {
        return "/sound/${language.name.lowercase()}/wav/$file.wav"
    }

    @Suppress("unused")
    fun getMp3SoundPath(): String {
        return "/sound/${language.name.lowercase()}/mp3/$file.mp3"
    }
}

enum class SoundId {
    NEW_CONTROLLER,
    CONTROLLER_DISCONNECTED,
    ADMIN_GRANTED,
    ADMIN_REVOKED,
    CONTROLLER_JOINED,
    CONTROLLER_LEFT,
    GAME_MODE_FFA,
    GAME_MODE_TODDLERS,
    ALL_PLAYERS_READY,
    THREE,
    TWO,
    ONE,
    GO,
    GAME_MODE_FFA_EXPLANATION,
    PLAYER_WIN
}

private val soundMap: Map<SoundId, Sound> = mapOf(
    NEW_CONTROLLER to Sound(
        id = NEW_CONTROLLER, soundFiles = mapOf(
            EN to SoundFile(language = EN, file = "new_controller", localizedText = "New Controller connected")
        )
    ),
    CONTROLLER_DISCONNECTED to Sound(
        id = CONTROLLER_DISCONNECTED, soundFiles = mapOf(
            EN to SoundFile(
                language = EN,
                file = "controller_disconnected",
                localizedText = "Controller disconnected"
            )
        )
    ),
    ADMIN_GRANTED to Sound(
        id = ADMIN_GRANTED, soundFiles = mapOf(
            EN to SoundFile(
                language = EN,
                file = "admin_granted",
                localizedText = "TODO fill me"
            )
        )
    ),
    ADMIN_REVOKED to Sound(
        id = ADMIN_REVOKED, soundFiles = mapOf(
            EN to SoundFile(
                language = EN,
                file = "admin_revoked",
                localizedText = "TODO fill me"
            )
        )
    ),
    CONTROLLER_JOINED to Sound(
        id = CONTROLLER_JOINED, soundFiles = mapOf(
            EN to SoundFile(
                language = EN,
                file = "controller_joined",
                localizedText = "TODO fill me"
            )
        )
    ),
    CONTROLLER_LEFT to Sound(
        id = CONTROLLER_LEFT, soundFiles = mapOf(
            EN to SoundFile(
                language = EN,
                file = "controller_left",
                localizedText = "TODO fill me"
            )
        )
    ),
    GAME_MODE_FFA to Sound(
        id = GAME_MODE_FFA, soundFiles = mapOf(
            EN to SoundFile(
                language = EN,
                file = "game_mode_ffa",
                localizedText = "Game Mode: Free For All"
            )
        )
    ),
    GAME_MODE_TODDLERS to Sound(
        id = GAME_MODE_TODDLERS, soundFiles = mapOf(
            EN to SoundFile(
                language = EN,
                file = "game_mode_toddlers",
                localizedText = "Game Mode: Sort Toddlers"
            )
        )
    ),
    ALL_PLAYERS_READY to Sound(
        id = ALL_PLAYERS_READY, soundFiles = mapOf(
            EN to SoundFile(
                language = EN,
                file = "all_players_ready",
                localizedText = "All players are ready."
            )
        )
    ),
    THREE to Sound(
        id = THREE, soundFiles = mapOf(
            EN to SoundFile(
                language = EN,
                file = "three",
                localizedText = "3"
            )
        )
    ),
    TWO to Sound(
        id = TWO, soundFiles = mapOf(
            EN to SoundFile(
                language = EN,
                file = "two",
                localizedText = "two"
            )
        )
    ),
    ONE to Sound(
        id = TWO, soundFiles = mapOf(
            EN to SoundFile(
                language = EN,
                file = "one",
                localizedText = "1"
            )
        )
    ),
    GO to Sound(
        id = GO, soundFiles = mapOf(
            EN to SoundFile(
                language = EN,
                file = "go",
                localizedText = "GO!"
            )
        )
    ),
    GAME_MODE_FFA_EXPLANATION to Sound(
        id = GAME_MODE_FFA_EXPLANATION, soundFiles = mapOf(
            EN to SoundFile(
                language = EN,
                file = "game_mode_ffa_explanation",
                localizedText = """A new round of "Free for all" is started. Protect your controller and try to accelerate your opponents' controllers at the same time. If you accelerate too quickly, you are out. The last player wins. Everyone ready? The game starts in:"""
            ),
            DE to SoundFile(
                language = DE,
                file = "game_mode_ffa_explanation",
                localizedText = """Eine neue Runde "Jeder gegen Jeden" wird gestartet. Besch√ºtze deinen Controller und versuche gleichzeitig die Controller deiner Gegner zu Beschleunigen. Beschleunigst du zu schnell bist du raus. Der letzte Spieler gewinnt. Alle Bereit? Das spiel startet in:"""
            )
        )
    ),
    PLAYER_WIN to Sound(
        id = PLAYER_WIN, soundFiles = mapOf(
            EN to SoundFile(
                language = EN,
                file = "go",
                localizedText = "go"
            )
        )
    )
)

fun getSoundBy(id: SoundId, locale: SupportedSoundLocale): SoundFile? {
    return soundMap[id]?.soundFiles?.get(locale)
}