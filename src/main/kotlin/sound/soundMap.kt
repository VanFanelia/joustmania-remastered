package de.vanfanel.joustmania.sound

import de.vanfanel.joustmania.sound.SoundId.CONTROLLER_DISCONNECTED
import de.vanfanel.joustmania.sound.SoundId.NEW_CONTROLLER
import de.vanfanel.joustmania.sound.SoundId.ADMIN_GRANTED
import de.vanfanel.joustmania.sound.SoundId.ADMIN_REVOKED
import de.vanfanel.joustmania.sound.SoundId.CONTROLLER_LEFT
import de.vanfanel.joustmania.sound.SoundId.CONTROLLER_JOINED
import de.vanfanel.joustmania.sound.SupportedSoundLocale.EN

/**
 * Sounds were generated by elevenlabs.
 * Settings:
 *
 * Voice:  Will
 * Model: Eleven Multilingual v2
 * Speed: 0.91
 * Stability: 31%
 * Similarity: 19%
 * Style Exaggeration: 43%
 * Speaker Boost: yes
 */


enum class SupportedSoundLocale {
    EN,
}

data class Sound(
    val id: SoundId,
    val soundFiles: Map<SupportedSoundLocale, SoundFile>
)

data class SoundFile(
    val language: SupportedSoundLocale,
    val file: String,
    val localizedText: String,
) {
    fun getWavSoundPath(): String {
        return "/sound/${language.name.lowercase()}/wav/$file.wav"
    }

    @Suppress("unused")
    fun getMp3SoundPath(): String {
        return "/sound/${language.name.lowercase()}/mp3/$file.mp3"
    }
}

enum class SoundId {
    NEW_CONTROLLER,
    CONTROLLER_DISCONNECTED,
    ADMIN_GRANTED,
    ADMIN_REVOKED,
    CONTROLLER_JOINED,
    CONTROLLER_LEFT,
}

private val soundMap: Map<SoundId, Sound> = mapOf(
    NEW_CONTROLLER to Sound(
        id = NEW_CONTROLLER, soundFiles = mapOf(
            EN to SoundFile(language = EN, file = "new_controller", localizedText = "New Controller connected")
        )
    ),
    CONTROLLER_DISCONNECTED to Sound(
        id = CONTROLLER_DISCONNECTED, soundFiles = mapOf(
            EN to SoundFile(
                language = EN,
                file = "controller_disconnected",
                localizedText = "Controller disconnected"
            )
        )
    ),
    ADMIN_GRANTED to Sound(
        id = ADMIN_GRANTED, soundFiles = mapOf(
            EN to SoundFile(
                language = EN,
                file = "admin_granted",
                localizedText = "TODO fill me"
            )
        )
    ),
    ADMIN_REVOKED to Sound(
        id = ADMIN_REVOKED, soundFiles = mapOf(
            EN to SoundFile(
                language = EN,
                file = "admin_revoked",
                localizedText = "TODO fill me"
            )
        )
    ),
    CONTROLLER_JOINED to Sound(
        id = CONTROLLER_JOINED, soundFiles = mapOf(
            EN to SoundFile(
                language = EN,
                file = "controller_joined",
                localizedText = "TODO fill me"
            )
        )
    ),
    CONTROLLER_LEFT to Sound(
        id = CONTROLLER_LEFT, soundFiles = mapOf(
            EN to SoundFile(
                language = EN,
                file = "controller_left",
                localizedText = "TODO fill me"
            )
        )
    ),
)

fun getSoundBy(id: SoundId, locale: SupportedSoundLocale): SoundFile? {
    return soundMap[id]?.soundFiles?.get(locale)
}